create table tmp_pilot_report
(
	ntid varchar(100),
	f1 varchar(100),
	f2 varchar(100),
	f3 varchar(100),
	f4 varchar(100),
	f5 varchar(100),
	f6 varchar(100),
	f7 varchar(100),
	f8 varchar(100),
	f11 varchar(100),
	f12 varchar(100),
	f13 varchar(100),
	f14 varchar(100),
	f15 varchar(100),
	f16 varchar(100),
	f17 varchar(100),
	f18 varchar(100),
	f19 varchar(100),
	f20 varchar(100),
	f21 varchar(100),
	f22 varchar(100),
	f23 varchar(100),
	f24 varchar(100),
	f25 varchar(100),
	f26 varchar(100),
	f27 varchar(100),
	f28 varchar(100),
	f29 varchar(100),
	f30 varchar(100),
	f31 varchar(100),
	f32 varchar(100),
	f33 varchar(100),
	f34 varchar(100),
	f35 varchar(100),
	f36 varchar(100),
	f37 varchar(100),
	f38 varchar(100),
	f39 varchar(100),
	f40 varchar(100),
	f41 varchar(100),
	f42 varchar(100),
	f43 varchar(100),
	f44 varchar(100),
	f45 varchar(100),
	f46 varchar(100),
	f47 varchar(100),
	f48 varchar(100),
	f49 varchar(100),
	f50 varchar(100),
	f51 varchar(100),
	f52 varchar(100),
	f53 varchar(100),
	f54 varchar(100),
	f55 varchar(100),
	f56 varchar(100),
	f57 varchar(100),
	f58 varchar(100),
	f59 varchar(100),
	f60 varchar(100),
	f61 varchar(100),
	f62 varchar(100),
	f63 varchar(100),
	f64 varchar(100),
	f65 varchar(100),
	f66 varchar(100),
	f67 varchar(100),
	f68 varchar(100),
	f69 varchar(100),
	f70 varchar(100),
	f71 varchar(100),
	f72 varchar(100),
	f73 varchar(100),
	f74 varchar(100),
	f75 varchar(100),
	f76 varchar(100),
	f77 varchar(100),
	f78 varchar(100),
	f79 varchar(100),
	f80 varchar(100),
	f81 varchar(100)
)
===
		SRM Lead Requester,
		Standard Desktop Confirmation Requester,
		Central Desktop Confirmation Requester,
		Backbone Reviewer/Approver,
		Procurement Display & Reporting,
		Contract Display & Reporting,
		Service Entry Sheet Creator,
		Operational Buyer,
		Contract Owner,
		Procurement Catalogue Processor,
		PSCM Specialist,
		PSCM Team Leader,
		Sourcing Coordinator,
		T&C Suppressor,
		Confidential Contracts Management,
		PSCM Approver,
		Bidder Creator,
		Goods Receiver,
		Title Transfer Receiver,
		Warehouse / Logistics Specialist,
		MRP Specialist,
		Strategic Materials Planner,
		Demand Planning MRP Specialist,
		VMI Administrator,
		Third Party Inventory Administrator,
		Inventory Scrapper,
		Inventory Transfer Specialist,
		Stock Count Administrator,
		Stock Count Variance Processor,
		Inventory Requester,
		Materials Fabrication Requestor,
		MM Financial Approver,
		Materials Management Display & Reporting,
		CRP Processor,
		Cost Allocation Administrator,
		Shipment Specialist,
		Rental Specialist,
		Materials Expediter,
		Inventory Optimization Analyst,
		Inventory Optimisation Analyst,
		POQR Library Administrator,
		POQR Document Reviewer,
		POQR Approver,
		WM Supervisor,
		WM Scheduler ,
		WM Planner,
		WM Advanced Planner 1,
		WM Advanced Planner 2,
		WM Technician,
		WM Mobile Technician,
		WM Microsoft Project,
		WM Senior Leadership,
		WM Display & Reporting,
		WM Local Work Management Administrator,
		WM Regional Work Management Administrator,
		Master Data Administrator - Item,
		Master Data Administrator - Warehouse,
		Master Data Administrator - BOM/Product Structure,
		Master Data Administrator - Service,
		MDM - Global Data Steward,
		MDM - Local Data Steward,
		MDM - Display,
		Master Data Administrator - PSCM,
		Cost Approver Maintainer,
		Vendor Data Requestor (Egypt only),
		Vendor Maintainer - HSSE,
		GWO Data Maintainer,
		GWO Data Display,
		Order Settlement,
		Invoice Exception and Workflow Analyst,
		Tax Maintainer,
		Accounting Object Analyst,
		Tax Expert,
		AP Invoice Processor (GFT Job Role),
		Finance Integration Display and Reporting,
		MI Query Writer,
		Regional Maximo Labor Data Steward,
		Regional Backbone Administrator,
		Vendor Maintainer - SQM
===
select ntid from user_data where deleted=0 and SFunction='(%RG_F_NAME%)'
===
select bpRole.BpRoleStandardName
from (user_data_mapping_role as UMR 
inner join BpRoleStandard as bpRole
on UMR.idBpRoleStandard = bpRole.id)
where UMR.idUserdata = '(%VALUE%)' and UMR.Deleted=0
and UD.deleted = 0
and bpRole.Deleted = 0
and UMR.idFunction='(%RG_F_ID%)'
===
SELECT 
	UD.[NTID],
	[GPID],
	[fname] AS [First Name],
	[lname] AS [Last Name],
	[email] AS [E-mail address],
	[omsSubfunction] AS [Function (OMS)/ Sub-function],
	[departmentBusiness] AS [Department or Business Unit],
	[Specialism],
	[jobTitle] AS [Job Title],
	[sponsorForeName] AS [Line Manager/ Sponsor Forename],
	[sponsorSurname] AS [Line Manager/ Sponsor Surname],
	[VTA],
	[Country],
	[contractor] AS [Contractor?(Y/N)],
	[SFunction] AS [Standard Function],
	[SdSubFunction] AS [Standard Sub Function],
	[STeam] AS [Standard Team],
	[Spare1],
	[Spare2],
	[Spare3],
	[Spare4],
	[Spare5],
	[Spare6],
	[Spare7],
	[Spare8],
	[Spare9],
	[Spare10],
	[Spare11],
	[Spare12],
	[Spare13],
	[Spare14],
	[Spare15],
	[Spare16],
	[Spare17],
	[Spare18],
	[Spare19],
	[Spare20],
	f1,
	f2,
	f3,
	f4,
	f5,
	f6,
	f7,
	f8,
	f11,
	f12,
	f13,
	f14,
	f15,
	f16,
	f17,
	f18,
	f19,
	f20,
	f21,
	f22,
	f23,
	f24,
	f25,
	f26,
	f27,
	f28,
	f29,
	f30,
	f31,
	f32,
	f33,
	f34,
	f35,
	f36,
	f37,
	f38,
	f39,
	f40,
	f41,
	f42,
	f43,
	f44,
	f45,
	f46,
	f47,
	f48,
	f49,
	f50,
	f51,
	f52,
	f53,
	f54,
	f55,
	f56,
	f57,
	f58,
	f59,
	f60,
	f61,
	f62,
	f63,
	f64,
	f65,
	f66,
	f67,
	f68,
	f69,
	f70,
	f71,
	f72,
	f73,
	f74,
	f75,
	f76,
	f77,
	f78,
	f79,
	f80,
	f81
FROM (user_data as UD
inner join tmp_pilot_report as tbl_cached
on tbl_cached.ntid = UD.ntid)
Where UD.deleted=0
and UD.SFunction='(%RG_F_NAME%)'
ORDER BY UD.ntid